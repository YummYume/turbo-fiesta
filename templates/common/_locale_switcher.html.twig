<div data-controller="dropdown tooltip">
    <button class="inline-flex cursor-pointer justify-center rounded p-2 text-neutral-500 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-400 dark:hover:bg-neutral-600 dark:hover:text-neutral-100"
        data-dropdown-target="trigger"
        data-tooltip-target="trigger"
        type="button">
        {{ component("icon", { icon: "flags/" ~ app.request.locale, class: "h-5 w-5 mt-0.5" }) }}
    </button>

    {{ component("tooltip", { text: "common.switch_language"|trans }) }}

    <div class="z-50 my-4 hidden list-none divide-y divide-neutral-100 rounded bg-neutral-100 text-base shadow dark:bg-neutral-700" data-dropdown-target="dropdown">
        <ul class="py-1" role="none">
            {% for locale in enabled_locales %}
                <li>
                    <a data-turbo="false"
                        class="block py-2 px-4 text-sm text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-600 dark:hover:text-neutral-100"
                        href="{{ path(app.current_route ?? "app_homepage", (app.current_route_parameters ?? [])|merge({ _locale: locale })) }}"
                        role="menuitem">
                        <div class="inline-flex items-center">
                            {{ component("icon", { icon: "flags/" ~ locale, class: "h-3.5 w-3.5 mr-2" }) }}
                            {{ locale|locale_name(app.request.locale)|title }}
                        </div>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
